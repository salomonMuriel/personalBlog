---
import type { ImageMetadata } from "astro";
import elpalomoLogo from "../assets/images/elpalomo.png";
import prestagenteLogo from "../assets/images/prestagente.png";
import beriblockLogo from "../assets/images/beriblock.png";
import fincoLogo from "../assets/images/finco.png";
import igniaLogo from "../assets/images/ignia.png";

interface Company {
  name: string;
  description: string;
  dates: string;
  status: string;
  logo?: ImageMetadata;
}

const currentCompany: Company = {
  name: "Ignia ðŸ”¥",
  description:
    "A new model for Higher Education, iterating on the main pain points of the traditional system: Content, Methodology, Community, Vibe, Purpose, Financing model, and Duration.",
  dates: "2025 - Present",
  status: "Active - www.ignia.lat",
  logo: igniaLogo,
};

const pastCompanies: Company[] = [
  {
    name: "Finco",
    description:
      "A Big Data and AI-powered valuation and decision-making service for the real estate market in Latin America. Over 100.000 reports served.",
    dates: "2019 - 2022",
    status: "Acquired by RED Atlas",
    logo: fincoLogo,
  },
  {
    name: "Beriblock",
    description:
      "Service to authenticate, track, and certify promissory notes using Blockchain technology.",
    dates: "2018 - 2019",
    status: "Went bankrupt",
    logo: beriblockLogo,
  },
  {
    name: "PrestaGente",
    description:
      "P2P payroll loan model tailored to Colombian regulations, using Blockchain as a disruptive technology.",
    dates: "2017 - 2019",
    status:
      "Acquired by Taurus Capital and still running - www.prestagente.com",
    logo: prestagenteLogo,
  },
  {
    name: "El Palomo",
    description:
      "Subscription-based flower delivery service focused on a 100% online customer experience.",
    dates: "2016 - 2017",
    status: "Failed Spectacularly",
    logo: elpalomoLogo,
  },
];
---

<section id="current-company" class="mb-12">
  <h2 class="text-2xl font-semibold mb-6 text-center">Currently Building</h2>
  <div class="flex justify-center">
    <div class="current-company-card w-full max-w-2xl">
      <div class="flex items-center">
        {
          currentCompany.logo ? (
            <img
              src={currentCompany.logo.src}
              alt={`${currentCompany.name} logo`}
              class="company-logo"
            />
          ) : (
            <div class="logo-placeholder" />
          )
        }
        <div class="ml-4">
          <h3 class="text-xl font-semibold">{currentCompany.name}</h3>
          <p class="text-sm font-normal text-skin-accent">
            {currentCompany.status}
          </p>
          <p class="text-sm text-skin-muted">{currentCompany.dates}</p>
        </div>
      </div>
      <p class="text-skin-base text-opacity-80 mt-4">
        {currentCompany.description}
      </p>
    </div>
  </div>
</section>

<section id="companies">
  <h2 class="text-2xl font-semibold mb-6">Past Ventures</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
    {
      pastCompanies.map(company => (
        <div class="company-card">
          <div class="flex items-center">
            {company.logo ? (
              <img
                src={company.logo.src}
                alt={`${company.name} logo`}
                class="company-logo"
              />
            ) : (
              <div class="logo-placeholder" />
            )}
            <div class="ml-4">
              <h3 class="text-xl font-semibold">{company.name}</h3>
              {company.status && (
                <p class="text-sm font-normal text-skin-accent">
                  {company.status}
                </p>
              )}
              <p class="text-sm text-skin-muted">{company.dates}</p>
            </div>
          </div>
          <p class="text-skin-base text-opacity-80 mt-4 flex-grow">
            {company.description}
          </p>
        </div>
      ))
    }
  </div>
</section>

<style>
  .current-company-card {
    @apply bg-skin-card border-2 border-skin-accent rounded-lg p-6 transition-transform duration-300 ease-in-out hover:scale-105;
  }
  .company-card {
    @apply bg-skin-card border border-skin-line rounded-lg p-6 transition-transform duration-300 ease-in-out hover:scale-105 flex flex-col;
  }
  .logo-placeholder {
    @apply w-16 h-16 bg-skin-fill rounded-md flex-shrink-0;
  }
  .company-logo {
    @apply w-16 h-16 bg-white rounded-md flex-shrink-0 object-contain p-1;
  }
</style>
